{"ast":null,"code":"var _jsxFileName = \"/Users/kji/Project/Gitlab/mental-health-care/web/src/components/PersonalData.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { Row, Spinner } from \"react-bootstrap\";\nimport { MenuItem, FormControl, Select, FormHelperText, makeStyles, InputLabel, Paper, Grid } from '@material-ui/core';\nimport { useHistory, useLocation } from \"react-router\";\nimport { geoAlbers } from 'd3-geo';\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport imgRobot from './image/robot.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PersonalData() {\n  _s();\n\n  const apiUrl = '/test/code';\n  const history = useHistory();\n  const [isLoading, setIsLoading] = useState(true);\n  const [name, setName] = useState('');\n  const [age, setAge] = useState(0);\n  const [gender, setGender] = useState(0);\n  const [region, setRegion] = useState(0);\n  const [ageCode, setAgeCode] = useState({\n    ageCode: null\n  });\n  const [genderCode, setGenderCode] = useState({\n    genderCode: null\n  });\n  const [regionCode, setRegionCode] = useState({\n    regionCode: null\n  });\n  const location = useLocation();\n  const [able, setAble] = useState(true); // if (location){\n  //     setName(location.state.pname);\n  //     setAge(location.state.page);\n  //     setGender(location.state.pgender);\n  //     setRegion(location.state.pregion);\n  // }\n\n  useEffect(() => {\n    async function getCodeList() {\n      let codeId = \"age\";\n      await axios.get(apiUrl + `?code_id=${codeId}`).then(response => {\n        const data = response.data.result;\n        const options = data.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: item.code,\n            children: item.code_nm\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this);\n        });\n        setAgeCode(options);\n      });\n      codeId = \"gender\";\n      await axios.get(apiUrl + `?code_id=${codeId}`).then(response => {\n        const data = response.data.result;\n        const options = data.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: item.code,\n            children: item.code_nm\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this);\n        });\n        setGenderCode(options);\n      });\n      codeId = \"region\";\n      await axios.get(apiUrl + `?code_id=${codeId}`).then(response => {\n        const data = response.data.result;\n        const options = data.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: item.code,\n            children: item.code_nm\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this);\n        });\n        setRegionCode(options);\n        setIsLoading(false);\n      });\n    }\n\n    getCodeList();\n  }, [isLoading]);\n\n  async function pushdataToPsychometry() {\n    if (age.value == '0') {\n      alert('나이를 확인해주세요');\n    } else if (gender.value == '0') {\n      alert('성별을 확인해주세요');\n    } else if (region.value == '0') {\n      alert('거주지를 확인해주세요');\n    } else {\n      const userId = await axios.post(`/test/user`, JSON.stringify({\n        'user_name': name.value,\n        'user_age': age.value,\n        'user_gender': gender.value,\n        'user_region': region.value\n      }), {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }); // const userId = postData()\n      // debugger\n      // setUserId(temp);\n\n      history.push({\n        pathname: \"/Psychometry\",\n        state: {\n          pname: name.value,\n          page: age.value,\n          pgender: gender.value,\n          pregion: region.value,\n          pid: userId.data.result.user_id\n        }\n      });\n    }\n  }\n\n  ;\n  const useStyles = makeStyles(theme => ({\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      marginBottom: theme.spacing(8)\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main\n    },\n    title: {\n      margin: theme.spacing(2)\n    },\n    form: {\n      width: '100%',\n      // Fix IE 11 issue.\n      marginTop: theme.spacing(3)\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2)\n    }\n  })); // async function postData(){\n  //     console.log(response.data.result);\n  //     // setUserId(response.data.result.user_id);\n  //     debugger\n  //     return (response.data.result.user_id)\n  // }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    children: isLoading ? /*#__PURE__*/_jsxDEV(Row, {\n      className: \"justify-content-md-center p-5\",\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sr-only\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: useStyles.paper,\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"sm\",\n        component: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          align: \"center\",\n          color: \"textSecondary\",\n          component: \"p\",\n          children: \"\\uD83E\\uDD16\\uC11C\\uBE44\\uC2A4 \\uC81C\\uACF5\\uC744 \\uC704\\uD55C \\uAE30\\uBCF8 \\uC778\\uC801\\uC0AC\\uD56D\\uC744 \\uC791\\uC131\\uD574\\uC8FC\\uC138\\uC694.\\uD83E\\uDD16\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"p\",\n          align: \"center\",\n          color: \"textSecondary\",\n          component: \"p\",\n          children: \"*\\uC791\\uC131\\uD558\\uC2E0 \\uC815\\uBCF4\\uB294 \\uC11C\\uBE44\\uC2A4 \\uC81C\\uACF5 \\uC678\\uC758 \\uC6A9\\uB3C4\\uB85C \\uC0AC\\uC6A9\\uB418\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"name\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"\\uC774\\uB984\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"\\uC774\\uB984\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n            onChange: e => {\n              setName(e.target);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"age\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"\\uC5F0\\uB839\\uB300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            custom: true,\n            onChange: e => {\n              setAge(e.target);\n            },\n            children: ageCode.map(option => {\n              return option;\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"gender\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"\\uC131\\uBCC4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            custom: true,\n            onChange: e => {\n              setGender(e.target);\n            },\n            children: genderCode.map(option => {\n              return option;\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"region\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"\\uAC70\\uC8FC\\uC9C0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            custom: true,\n            onChange: e => {\n              setRegion(e.target);\n            },\n            children: regionCode.map(option => {\n              return option;\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          varient: \"primary\",\n          size: \"large\",\n          onClick: pushdataToPsychometry,\n          disabled: !name.value || !age.value || !gender.value || !region.value,\n          children: \"\\uB2E4\\uC74C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"https://www.notion.so/86a389ec9b4d4f419ac64e99810fd0de\",\n        xs: 2,\n        children: \"\\uC11C\\uBE44\\uC2A4 \\uC18C\\uAC1C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/CounselorLogin\",\n        children: \"\\uC0C1\\uB2F4\\uC0AC \\uC804\\uC6A9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PersonalData, \"btLT9cw7ZUPbP7BWn+lg0aE12Cg=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = PersonalData;\n\nvar _c;\n\n$RefreshReg$(_c, \"PersonalData\");","map":{"version":3,"sources":["/Users/kji/Project/Gitlab/mental-health-care/web/src/components/PersonalData.js"],"names":["React","useState","useEffect","axios","Form","Button","Row","Spinner","MenuItem","FormControl","Select","FormHelperText","makeStyles","InputLabel","Paper","Grid","useHistory","useLocation","geoAlbers","CssBaseline","Typography","Container","imgRobot","PersonalData","apiUrl","history","isLoading","setIsLoading","name","setName","age","setAge","gender","setGender","region","setRegion","ageCode","setAgeCode","genderCode","setGenderCode","regionCode","setRegionCode","location","able","setAble","getCodeList","codeId","get","then","response","data","result","options","map","item","code","code_nm","id","pushdataToPsychometry","value","alert","userId","post","JSON","stringify","headers","push","pathname","state","pname","page","pgender","pregion","pid","user_id","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","marginBottom","avatar","margin","backgroundColor","palette","secondary","main","title","form","width","submit","e","target","option"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,SAASC,GAAT,EAAcC,OAAd,QAA6B,iBAA7B;AACA,SAASC,QAAT,EAAmBC,WAAnB,EAAgCC,MAAhC,EAAwCC,cAAxC,EAAwDC,UAAxD,EAAoEC,UAApE,EAAgFC,KAAhF,EAAuFC,IAAvF,QAAmG,mBAAnG;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,cAAxC;AACA,SAASC,SAAT,QAA0B,QAA1B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AAEA,OAAOC,QAAP,MAAqB,mBAArB;;AAEA,eAAe,SAASC,YAAT,GAAwB;AAAA;;AACnC,QAAMC,MAAM,GAAG,YAAf;AACA,QAAMC,OAAO,GAAGT,UAAU,EAA1B;AACA,QAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4B1B,QAAQ,CAAC,IAAD,CAA1C;AAEA,QAAM,CAAC2B,IAAD,EAAOC,OAAP,IAAkB5B,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAAC6B,GAAD,EAAMC,MAAN,IAAgB9B,QAAQ,CAAC,CAAD,CAA9B;AACA,QAAM,CAAC+B,MAAD,EAASC,SAAT,IAAsBhC,QAAQ,CAAC,CAAD,CAApC;AACA,QAAM,CAACiC,MAAD,EAASC,SAAT,IAAsBlC,QAAQ,CAAC,CAAD,CAApC;AACA,QAAM,CAACmC,OAAD,EAAUC,UAAV,IAAwBpC,QAAQ,CAAC;AACnCmC,IAAAA,OAAO,EAAE;AAD0B,GAAD,CAAtC;AAGA,QAAM,CAACE,UAAD,EAAaC,aAAb,IAA8BtC,QAAQ,CAAC;AACzCqC,IAAAA,UAAU,EAAE;AAD6B,GAAD,CAA5C;AAGA,QAAM,CAACE,UAAD,EAAaC,aAAb,IAA8BxC,QAAQ,CAAC;AACzCuC,IAAAA,UAAU,EAAE;AAD6B,GAAD,CAA5C;AAGA,QAAME,QAAQ,GAAGzB,WAAW,EAA5B;AACA,QAAM,CAAC0B,IAAD,EAAOC,OAAP,IAAkB3C,QAAQ,CAAC,IAAD,CAAhC,CAnBmC,CAoBnC;AACA;AACA;AACA;AACA;AACA;;AACAC,EAAAA,SAAS,CAAC,MAAM;AACZ,mBAAe2C,WAAf,GAA6B;AACzB,UAAIC,MAAM,GAAG,KAAb;AACA,YAAM3C,KAAK,CAAC4C,GAAN,CAAUvB,MAAM,GAAI,YAAWsB,MAAO,EAAtC,EAAyCE,IAAzC,CAA+CC,QAAD,IAAc;AAC9D,cAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAT,CAAcC,MAA3B;AAEA,cAAMC,OAAO,GAAGF,IAAI,CAACG,GAAL,CAAUC,IAAD,IAAU;AAC/B,8BACI;AAAsB,YAAA,KAAK,EAAEA,IAAI,CAACC,IAAlC;AAAA,sBACKD,IAAI,CAACE;AADV,aAAaF,IAAI,CAACG,EAAlB;AAAA;AAAA;AAAA;AAAA,kBADJ;AAKH,SANe,CAAhB;AAQApB,QAAAA,UAAU,CAACe,OAAD,CAAV;AACH,OAZK,CAAN;AAcAN,MAAAA,MAAM,GAAG,QAAT;AACA,YAAM3C,KAAK,CAAC4C,GAAN,CAAUvB,MAAM,GAAI,YAAWsB,MAAO,EAAtC,EAAyCE,IAAzC,CAA+CC,QAAD,IAAc;AAC9D,cAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAT,CAAcC,MAA3B;AAEA,cAAMC,OAAO,GAAGF,IAAI,CAACG,GAAL,CAAUC,IAAD,IAAU;AAC/B,8BACI;AAAsB,YAAA,KAAK,EAAEA,IAAI,CAACC,IAAlC;AAAA,sBACKD,IAAI,CAACE;AADV,aAAaF,IAAI,CAACG,EAAlB;AAAA;AAAA;AAAA;AAAA,kBADJ;AAKH,SANe,CAAhB;AAQAlB,QAAAA,aAAa,CAACa,OAAD,CAAb;AACH,OAZK,CAAN;AAcAN,MAAAA,MAAM,GAAG,QAAT;AACA,YAAM3C,KAAK,CAAC4C,GAAN,CAAUvB,MAAM,GAAI,YAAWsB,MAAO,EAAtC,EAAyCE,IAAzC,CAA+CC,QAAD,IAAc;AAC9D,cAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAT,CAAcC,MAA3B;AAEA,cAAMC,OAAO,GAAGF,IAAI,CAACG,GAAL,CAAUC,IAAD,IAAU;AAC/B,8BACI;AAAsB,YAAA,KAAK,EAAEA,IAAI,CAACC,IAAlC;AAAA,sBACKD,IAAI,CAACE;AADV,aAAaF,IAAI,CAACG,EAAlB;AAAA;AAAA;AAAA;AAAA,kBADJ;AAKH,SANe,CAAhB;AAQAhB,QAAAA,aAAa,CAACW,OAAD,CAAb;AACAzB,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,OAbK,CAAN;AAcH;;AACDkB,IAAAA,WAAW;AACd,GAjDQ,EAiDN,CAACnB,SAAD,CAjDM,CAAT;;AAmDA,iBAAegC,qBAAf,GAAuC;AACnC,QAAI5B,GAAG,CAAC6B,KAAJ,IAAa,GAAjB,EAAsB;AAClBC,MAAAA,KAAK,CAAC,YAAD,CAAL;AACH,KAFD,MAGK,IAAI5B,MAAM,CAAC2B,KAAP,IAAgB,GAApB,EAAyB;AAC1BC,MAAAA,KAAK,CAAC,YAAD,CAAL;AACH,KAFI,MAGA,IAAI1B,MAAM,CAACyB,KAAP,IAAgB,GAApB,EAAyB;AAC1BC,MAAAA,KAAK,CAAC,aAAD,CAAL;AACH,KAFI,MAGA;AACD,YAAMC,MAAM,GAAG,MAAM1D,KAAK,CAAC2D,IAAN,CAAY,YAAZ,EAAyBC,IAAI,CAACC,SAAL,CAAe;AACzD,qBAAapC,IAAI,CAAC+B,KADuC;AAEzD,oBAAY7B,GAAG,CAAC6B,KAFyC;AAGzD,uBAAe3B,MAAM,CAAC2B,KAHmC;AAIzD,uBAAezB,MAAM,CAACyB;AAJmC,OAAf,CAAzB,EAKjB;AACAM,QAAAA,OAAO,EAAE;AAAE,0BAAgB;AAAlB;AADT,OALiB,CAArB,CADC,CASD;AACA;AACA;;AACAxC,MAAAA,OAAO,CAACyC,IAAR,CAAa;AACTC,QAAAA,QAAQ,EAAE,cADD;AAETC,QAAAA,KAAK,EAAE;AACHC,UAAAA,KAAK,EAAEzC,IAAI,CAAC+B,KADT;AAEHW,UAAAA,IAAI,EAAExC,GAAG,CAAC6B,KAFP;AAGHY,UAAAA,OAAO,EAAEvC,MAAM,CAAC2B,KAHb;AAIHa,UAAAA,OAAO,EAAEtC,MAAM,CAACyB,KAJb;AAKHc,UAAAA,GAAG,EAAEZ,MAAM,CAACX,IAAP,CAAYC,MAAZ,CAAmBuB;AALrB;AAFE,OAAb;AAUH;AACJ;;AAAA;AAED,QAAMC,SAAS,GAAG/D,UAAU,CAAEgE,KAAD,KAAY;AACrCC,IAAAA,KAAK,EAAE;AACHC,MAAAA,SAAS,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CADR;AAEHC,MAAAA,OAAO,EAAE,MAFN;AAGHC,MAAAA,aAAa,EAAE,QAHZ;AAIHC,MAAAA,UAAU,EAAE,QAJT;AAKHC,MAAAA,YAAY,EAAEP,KAAK,CAACG,OAAN,CAAc,CAAd;AALX,KAD8B;AAQrCK,IAAAA,MAAM,EAAE;AACJC,MAAAA,MAAM,EAAET,KAAK,CAACG,OAAN,CAAc,CAAd,CADJ;AAEJO,MAAAA,eAAe,EAAEV,KAAK,CAACW,OAAN,CAAcC,SAAd,CAAwBC;AAFrC,KAR6B;AAYrCC,IAAAA,KAAK,EAAE;AACHL,MAAAA,MAAM,EAAET,KAAK,CAACG,OAAN,CAAc,CAAd;AADL,KAZ8B;AAerCY,IAAAA,IAAI,EAAE;AACFC,MAAAA,KAAK,EAAE,MADL;AACa;AACfd,MAAAA,SAAS,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd;AAFT,KAf+B;AAmBrCc,IAAAA,MAAM,EAAE;AACJR,MAAAA,MAAM,EAAET,KAAK,CAACG,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB;AADJ;AAnB6B,GAAZ,CAAD,CAA5B,CAhHmC,CAwInC;AAEA;AACA;AACA;AACA;AACA;;AAEA,sBACI,QAAC,SAAD;AAAW,IAAA,QAAQ,EAAC,IAApB;AAAA,cACKrD,SAAS,gBACN,QAAC,GAAD;AAAK,MAAA,SAAS,EAAC,+BAAf;AAAA,6BACI,QAAC,OAAD;AAAS,QAAA,SAAS,EAAC,QAAnB;AAA4B,QAAA,IAAI,EAAC,QAAjC;AAAA,+BACI;AAAM,UAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADM,gBAOV;AAAK,MAAA,SAAS,EAAEiD,SAAS,CAACE,KAA1B;AAAA,8BACI,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,cADJ,eAGI,QAAC,SAAD;AAAW,QAAA,QAAQ,EAAC,IAApB;AAAyB,QAAA,SAAS,EAAC,MAAnC;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAII;AAAA;AAAA;AAAA;AAAA,gBAJJ,eAMI,QAAC,UAAD;AAAY,UAAA,OAAO,EAAC,IAApB;AAAyB,UAAA,KAAK,EAAC,QAA/B;AAAwC,UAAA,KAAK,EAAC,eAA9C;AAA8D,UAAA,SAAS,EAAC,GAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ,eASI,QAAC,UAAD;AAAY,UAAA,OAAO,EAAC,GAApB;AAAwB,UAAA,KAAK,EAAC,QAA9B;AAAuC,UAAA,KAAK,EAAC,eAA7C;AAA6D,UAAA,SAAS,EAAC,GAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAgBI,QAAC,SAAD;AAAA,+BACI,QAAC,IAAD,CAAM,KAAN;AAAY,UAAA,SAAS,EAAC,MAAtB;AAAA,kCACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AACI,YAAA,IAAI,EAAC,MADT;AAEI,YAAA,WAAW,EAAC,yDAFhB;AAGI,YAAA,QAAQ,EAAGiB,CAAD,IAAO;AACjBjE,cAAAA,OAAO,CAACiE,CAAC,CAACC,MAAH,CAAP;AACC;AALL;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAhBJ,eA6BI,QAAC,SAAD;AAAA,+BACI,QAAC,IAAD,CAAM,KAAN;AAAY,UAAA,SAAS,EAAC,KAAtB;AAAA,kCACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AACI,YAAA,EAAE,EAAC,QADP;AAEI,YAAA,MAAM,MAFV;AAGI,YAAA,QAAQ,EAAGD,CAAD,IAAO;AACjB/D,cAAAA,MAAM,CAAC+D,CAAC,CAACC,MAAH,CAAN;AACC,aALL;AAAA,sBAOK3D,OAAO,CAACiB,GAAR,CAAa2C,MAAD,IAAY;AACzB,qBAAOA,MAAP;AACC,aAFA;AAPL;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cA7BJ,eA8CI,QAAC,SAAD;AAAA,+BACI,QAAC,IAAD,CAAM,KAAN;AAAY,UAAA,SAAS,EAAC,QAAtB;AAAA,kCACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AACI,YAAA,EAAE,EAAC,QADP;AAEI,YAAA,MAAM,MAFV;AAGI,YAAA,QAAQ,EAAGF,CAAD,IAAO;AACjB7D,cAAAA,SAAS,CAAC6D,CAAC,CAACC,MAAH,CAAT;AACC,aALL;AAAA,sBAOKzD,UAAU,CAACe,GAAX,CAAgB2C,MAAD,IAAY;AAC5B,qBAAOA,MAAP;AACC,aAFA;AAPL;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cA9CJ,eA+DI,QAAC,SAAD;AAAA,+BACI,QAAC,IAAD,CAAM,KAAN;AAAY,UAAA,SAAS,EAAC,QAAtB;AAAA,kCACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AACI,YAAA,EAAE,EAAC,QADP;AAEI,YAAA,MAAM,MAFV;AAGI,YAAA,QAAQ,EAAGF,CAAD,IAAO;AACjB3D,cAAAA,SAAS,CAAC2D,CAAC,CAACC,MAAH,CAAT;AACC,aALL;AAAA,sBAOKvD,UAAU,CAACa,GAAX,CAAgB2C,MAAD,IAAY;AAC5B,qBAAOA,MAAP;AACC,aAFA;AAPL;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cA/DJ,eAgFI,QAAC,SAAD;AAAA,+BACI,QAAC,MAAD;AACI,UAAA,OAAO,EAAC,SADZ;AAEI,UAAA,IAAI,EAAC,OAFT;AAGI,UAAA,OAAO,EAAEtC,qBAHb;AAII,UAAA,QAAQ,EAAK,CAAC9B,IAAI,CAAC+B,KAAN,IAAe,CAAC7B,GAAG,CAAC6B,KAApB,IAA6B,CAAC3B,MAAM,CAAC2B,KAArC,IAA8C,CAACzB,MAAM,CAACyB,KAJvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAhFJ,eAgGI;AAAA;AAAA;AAAA;AAAA,cAhGJ,eAkGI;AAAG,QAAA,IAAI,EAAC,wDAAR;AAAiE,QAAA,EAAE,EAAE,CAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAlGJ,eAmGI;AAAG,QAAA,IAAI,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAnGJ;AAAA;AAAA;AAAA;AAAA;AAAA;AARJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAkHH;;GAlQuBpC,Y;UAEJP,U,EAgBCC,W;;;KAlBGM,Y","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios';\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport { Row, Spinner } from \"react-bootstrap\";\nimport { MenuItem, FormControl, Select, FormHelperText, makeStyles, InputLabel, Paper, Grid } from '@material-ui/core'\nimport { useHistory, useLocation } from \"react-router\";\nimport { geoAlbers } from 'd3-geo';\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\n\nimport imgRobot from './image/robot.png';\n\nexport default function PersonalData() {\n    const apiUrl = '/test/code';\n    const history = useHistory();\n    const [isLoading, setIsLoading] = useState(true);\n\n    const [name, setName] = useState('');\n    const [age, setAge] = useState(0);\n    const [gender, setGender] = useState(0);\n    const [region, setRegion] = useState(0);\n    const [ageCode, setAgeCode] = useState({\n        ageCode: null,\n    });\n    const [genderCode, setGenderCode] = useState({\n        genderCode: null,\n    });\n    const [regionCode, setRegionCode] = useState({\n        regionCode: null,\n    });\n    const location = useLocation();\n    const [able, setAble] = useState(true);\n    // if (location){\n    //     setName(location.state.pname);\n    //     setAge(location.state.page);\n    //     setGender(location.state.pgender);\n    //     setRegion(location.state.pregion);\n    // }\n    useEffect(() => {\n        async function getCodeList() {\n            let codeId = \"age\";\n            await axios.get(apiUrl + `?code_id=${codeId}`).then((response) => {\n                const data = response.data.result;\n\n                const options = data.map((item) => {\n                    return (\n                        <option key={item.id} value={item.code}>\n                            {item.code_nm}\n                        </option>\n                    );\n                });\n\n                setAgeCode(options);\n            });\n\n            codeId = \"gender\";\n            await axios.get(apiUrl + `?code_id=${codeId}`).then((response) => {\n                const data = response.data.result;\n\n                const options = data.map((item) => {\n                    return (\n                        <option key={item.id} value={item.code}>\n                            {item.code_nm}\n                        </option>\n                    );\n                });\n\n                setGenderCode(options);\n            });\n\n            codeId = \"region\";\n            await axios.get(apiUrl + `?code_id=${codeId}`).then((response) => {\n                const data = response.data.result;\n\n                const options = data.map((item) => {\n                    return (\n                        <option key={item.id} value={item.code}>\n                            {item.code_nm}\n                        </option>\n                    );\n                });\n\n                setRegionCode(options);\n                setIsLoading(false);\n            });\n        }\n        getCodeList();\n    }, [isLoading]);\n\n    async function pushdataToPsychometry() {\n        if (age.value == '0') {\n            alert('나이를 확인해주세요');\n        }\n        else if (gender.value == '0') {\n            alert('성별을 확인해주세요');\n        }\n        else if (region.value == '0') {\n            alert('거주지를 확인해주세요');\n        }\n        else {\n            const userId = await axios.post(`/test/user`, JSON.stringify({\n                'user_name': name.value,\n                'user_age': age.value,\n                'user_gender': gender.value,\n                'user_region': region.value\n            }), {\n                headers: { \"Content-Type\": \"application/json\" },\n            });\n            // const userId = postData()\n            // debugger\n            // setUserId(temp);\n            history.push({\n                pathname: \"/Psychometry\",\n                state: {\n                    pname: name.value,\n                    page: age.value,\n                    pgender: gender.value,\n                    pregion: region.value,\n                    pid: userId.data.result.user_id\n                }\n            })\n        }\n    };\n\n    const useStyles = makeStyles((theme) => ({\n        paper: {\n            marginTop: theme.spacing(8),\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            marginBottom: theme.spacing(8)\n        },\n        avatar: {\n            margin: theme.spacing(1),\n            backgroundColor: theme.palette.secondary.main,\n        },\n        title: {\n            margin: theme.spacing(2),\n        },\n        form: {\n            width: '100%', // Fix IE 11 issue.\n            marginTop: theme.spacing(3),\n        },\n        submit: {\n            margin: theme.spacing(3, 0, 2),\n        },\n    }));\n\n    // async function postData(){\n\n    //     console.log(response.data.result);\n    //     // setUserId(response.data.result.user_id);\n    //     debugger\n    //     return (response.data.result.user_id)\n    // }\n\n    return (\n        <Container maxWidth=\"sm\">\n            {isLoading ? (\n                <Row className=\"justify-content-md-center p-5\">\n                    <Spinner animation=\"border\" role=\"status\">\n                        <span className=\"sr-only\">Loading...</span>\n                    </Spinner>\n                </Row>\n            ) : (\n            <div className={useStyles.paper}>\n                <CssBaseline />\n       \n                <Container maxWidth=\"sm\" component=\"main\">\n                    <br/>\n                    <br/>\n                    <br/>\n                    <br/>\n        \n                    <Typography variant=\"h5\" align=\"center\" color=\"textSecondary\" component=\"p\">\n                    🤖서비스 제공을 위한 기본 인적사항을 작성해주세요.🤖\n                    </Typography>\n                    <Typography variant=\"p\" align=\"center\" color=\"textSecondary\" component=\"p\">\n                        *작성하신 정보는 서비스 제공 외의 용도로 사용되지 않습니다.\n                    </Typography>\n                </Container>\n                <Container>\n                    <Form.Group controlId=\"name\">\n                        <Form.Label>이름</Form.Label>\n                        <Form.Control\n                            type=\"text\"\n                            placeholder=\"이름을 입력해주세요\"\n                            onChange={(e) => {\n                            setName(e.target);\n                            }}\n                        ></Form.Control>\n                    </Form.Group>\n                </Container>\n\n                <Container>\n                    <Form.Group controlId=\"age\">\n                        <Form.Label>연령대</Form.Label>\n                        <Form.Control\n                            as=\"select\"\n                            custom\n                            onChange={(e) => {\n                            setAge(e.target);\n                            }}\n                        >\n                            {ageCode.map((option) => {\n                            return option;\n                            })}\n                        </Form.Control>\n                    </Form.Group>\n                </Container>\n\n                <Container>\n                    <Form.Group controlId=\"gender\">\n                        <Form.Label>성별</Form.Label>\n                        <Form.Control\n                            as=\"select\"\n                            custom\n                            onChange={(e) => {\n                            setGender(e.target);\n                            }}\n                        >\n                            {genderCode.map((option) => {\n                            return option;\n                            })}\n                        </Form.Control>\n                    </Form.Group>\n                </Container>\n                \n                <Container>\n                    <Form.Group controlId=\"region\">\n                        <Form.Label>거주지</Form.Label>\n                        <Form.Control\n                            as=\"select\"\n                            custom\n                            onChange={(e) => {\n                            setRegion(e.target);\n                            }}\n                        >\n                            {regionCode.map((option) => {\n                            return option;\n                            })}\n                        </Form.Control>\n                    </Form.Group>\n                </Container>\n\n                <Container>\n                    <Button\n                        varient=\"primary\"\n                        size=\"large\"\n                        onClick={pushdataToPsychometry}\n                        disabled = {(!name.value || !age.value || !gender.value || !region.value) }\n                    >\n                            다음\n                    </Button>\n                </Container>\n\n                {/* <p>이름 : {name.value}</p>\n                <p>나이 : {age.value}</p>\n                <p>성별 : {gender.value}</p>\n                <p>지역 : {region.value}</p> */}\n                \n                <hr></hr>\n                \n                <a href=\"https://www.notion.so/86a389ec9b4d4f419ac64e99810fd0de\" xs={2}>서비스 소개</a>\n                <a href=\"/CounselorLogin\">상담사 전용</a>\n            </div>\n\n            )}\n        </Container>\n    );\n}"]},"metadata":{},"sourceType":"module"}