{"ast":null,"code":"var _jsxFileName = \"/Users/kji/Project/Gitlab/mental-health-care/web/src/components/PersonalData.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { Row, Spinner } from \"react-bootstrap\";\nimport { MenuItem, FormControl, Select, FormHelperText, makeStyles, InputLabel, Paper, Grid } from \"@material-ui/core\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { geoAlbers } from \"d3-geo\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport imgRobot from \"./image/robot.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PersonalData() {\n  _s();\n\n  const apiUrl = \"/test/code\";\n  const history = useHistory(); // const [isLoading, setIsLoading] = useState(true);\n\n  const [name, setName] = useState(\"\");\n  const [age, setAge] = useState(0);\n  const [gender, setGender] = useState(0);\n  const [region, setRegion] = useState(0);\n  const [ageCode, setAgeCode] = useState({\n    ageCode: null\n  });\n  const [genderCode, setGenderCode] = useState({\n    genderCode: null\n  });\n  const [regionCode, setRegionCode] = useState({\n    regionCode: null\n  });\n  const location = useLocation();\n  const [able, setAble] = useState(true); // if (location){\n  //     setName(location.state.pname);\n  //     setAge(location.state.page);\n  //     setGender(location.state.pgender);\n  //     setRegion(location.state.pregion);\n  // }\n\n  useEffect(() => {\n    async function getCodeList() {\n      let codeId = \"age\";\n      await axios.get(apiUrl + `?code_id=${codeId}`).then(response => {\n        const data = response.data.result;\n        const options = data.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: item.code,\n            children: item.code_nm\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this);\n        });\n        setAgeCode(options);\n      });\n      codeId = \"gender\";\n      await axios.get(apiUrl + `?code_id=${codeId}`).then(response => {\n        const data = response.data.result;\n        const options = data.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: item.code,\n            children: item.code_nm\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this);\n        });\n        setGenderCode(options);\n      });\n      codeId = \"region\";\n      await axios.get(apiUrl + `?code_id=${codeId}`).then(response => {\n        const data = response.data.result;\n        const options = data.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: item.code,\n            children: item.code_nm\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this);\n        });\n        setRegionCode(options); // setIsLoading(false);\n      });\n    }\n\n    getCodeList();\n  }, []);\n\n  async function pushdataToPsychometry() {\n    if (age.value == \"0\") {\n      alert(\"나이를 확인해주세요\");\n    } else if (gender.value == \"0\") {\n      alert(\"성별을 확인해주세요\");\n    } else if (region.value == \"0\") {\n      alert(\"거주지를 확인해주세요\");\n    } else {\n      const userId = await axios.post(`/test/user`, JSON.stringify({\n        user_name: name.value,\n        user_age: age.value,\n        user_gender: gender.value,\n        user_region: region.value\n      }), {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }); // const userId = postData()\n      // debugger\n      // setUserId(temp);\n\n      history.push({\n        pathname: \"/Psychometry\",\n        state: {\n          pname: name.value,\n          page: age.value,\n          pgender: gender.value,\n          pregion: region.value,\n          pid: userId.data.result.user_id\n        }\n      });\n    }\n  }\n\n  const useStyles = makeStyles(theme => ({\n    paper: {\n      marginTop: theme.spacing(8),\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      marginBottom: theme.spacing(8)\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main\n    },\n    title: {\n      margin: theme.spacing(2)\n    },\n    form: {\n      width: \"100%\",\n      // Fix IE 11 issue.\n      marginTop: theme.spacing(3)\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2)\n    }\n  })); // async function postData(){\n  //     console.log(response.data.result);\n  //     // setUserId(response.data.result.user_id);\n  //     debugger\n  //     return (response.data.result.user_id)\n  // }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: useStyles.paper,\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"sm\",\n        component: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          align: \"center\",\n          color: \"textSecondary\",\n          component: \"p\",\n          children: \"\\uD83E\\uDD16\\uC11C\\uBE44\\uC2A4 \\uC81C\\uACF5\\uC744 \\uC704\\uD55C \\uAE30\\uBCF8 \\uC778\\uC801\\uC0AC\\uD56D\\uC744 \\uC791\\uC131\\uD574\\uC8FC\\uC138\\uC694.\\uD83E\\uDD16\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"p\",\n          align: \"center\",\n          color: \"textSecondary\",\n          component: \"p\",\n          children: \"*\\uC791\\uC131\\uD558\\uC2E0 \\uC815\\uBCF4\\uB294 \\uC11C\\uBE44\\uC2A4 \\uC81C\\uACF5 \\uC678\\uC758 \\uC6A9\\uB3C4\\uB85C \\uC0AC\\uC6A9\\uB418\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"name\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"\\uC774\\uB984\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"\\uC774\\uB984\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n            onChange: e => {\n              setName(e.target);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"age\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"\\uC5F0\\uB839\\uB300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            custom: true,\n            onChange: e => {\n              setAge(e.target);\n            },\n            children: ageCode.map(option => {\n              return option;\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"gender\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"\\uC131\\uBCC4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            custom: true,\n            onChange: e => {\n              setGender(e.target);\n            },\n            children: genderCode.map(option => {\n              return option;\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"region\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"\\uAC70\\uC8FC\\uC9C0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            custom: true,\n            onChange: e => {\n              setRegion(e.target);\n            },\n            children: regionCode.map(option => {\n              return option;\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          varient: \"primary\",\n          size: \"large\",\n          onClick: pushdataToPsychometry,\n          disabled: !name.value || !age.value || !gender.value || !region.value,\n          children: \"\\uB2E4\\uC74C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"https://www.notion.so/86a389ec9b4d4f419ac64e99810fd0de\",\n        xs: 2,\n        children: \"\\uC11C\\uBE44\\uC2A4 \\uC18C\\uAC1C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/CounselorLogin\",\n        children: \"\\uC0C1\\uB2F4\\uC0AC \\uC804\\uC6A9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PersonalData, \"mYGuYaY2+kD3H7aphjt/gn4rntQ=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = PersonalData;\n\nvar _c;\n\n$RefreshReg$(_c, \"PersonalData\");","map":{"version":3,"sources":["/Users/kji/Project/Gitlab/mental-health-care/web/src/components/PersonalData.js"],"names":["React","useState","useEffect","axios","Form","Button","Row","Spinner","MenuItem","FormControl","Select","FormHelperText","makeStyles","InputLabel","Paper","Grid","useHistory","useLocation","geoAlbers","CssBaseline","Typography","Container","imgRobot","PersonalData","apiUrl","history","name","setName","age","setAge","gender","setGender","region","setRegion","ageCode","setAgeCode","genderCode","setGenderCode","regionCode","setRegionCode","location","able","setAble","getCodeList","codeId","get","then","response","data","result","options","map","item","code","code_nm","id","pushdataToPsychometry","value","alert","userId","post","JSON","stringify","user_name","user_age","user_gender","user_region","headers","push","pathname","state","pname","page","pgender","pregion","pid","user_id","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","marginBottom","avatar","margin","backgroundColor","palette","secondary","main","title","form","width","submit","e","target","option"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { Row, Spinner } from \"react-bootstrap\";\nimport {\n  MenuItem,\n  FormControl,\n  Select,\n  FormHelperText,\n  makeStyles,\n  InputLabel,\n  Paper,\n  Grid,\n} from \"@material-ui/core\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { geoAlbers } from \"d3-geo\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\n\nimport imgRobot from \"./image/robot.png\";\n\nexport default function PersonalData() {\n  const apiUrl = \"/test/code\";\n  const history = useHistory();\n  // const [isLoading, setIsLoading] = useState(true);\n\n  const [name, setName] = useState(\"\");\n  const [age, setAge] = useState(0);\n  const [gender, setGender] = useState(0);\n  const [region, setRegion] = useState(0);\n  const [ageCode, setAgeCode] = useState({\n    ageCode: null,\n  });\n  const [genderCode, setGenderCode] = useState({\n    genderCode: null,\n  });\n  const [regionCode, setRegionCode] = useState({\n    regionCode: null,\n  });\n  const location = useLocation();\n  const [able, setAble] = useState(true);\n  // if (location){\n  //     setName(location.state.pname);\n  //     setAge(location.state.page);\n  //     setGender(location.state.pgender);\n  //     setRegion(location.state.pregion);\n  // }\n  useEffect(() => {\n    async function getCodeList() {\n      let codeId = \"age\";\n      await axios.get(apiUrl + `?code_id=${codeId}`).then((response) => {\n        const data = response.data.result;\n\n        const options = data.map((item) => {\n          return (\n            <option key={item.id} value={item.code}>\n              {item.code_nm}\n            </option>\n          );\n        });\n\n        setAgeCode(options);\n      });\n\n      codeId = \"gender\";\n      await axios.get(apiUrl + `?code_id=${codeId}`).then((response) => {\n        const data = response.data.result;\n\n        const options = data.map((item) => {\n          return (\n            <option key={item.id} value={item.code}>\n              {item.code_nm}\n            </option>\n          );\n        });\n\n        setGenderCode(options);\n      });\n\n      codeId = \"region\";\n      await axios.get(apiUrl + `?code_id=${codeId}`).then((response) => {\n        const data = response.data.result;\n\n        const options = data.map((item) => {\n          return (\n            <option key={item.id} value={item.code}>\n              {item.code_nm}\n            </option>\n          );\n        });\n\n        setRegionCode(options);\n        // setIsLoading(false);\n      });\n    }\n    getCodeList();\n  }, []);\n\n  async function pushdataToPsychometry() {\n    if (age.value == \"0\") {\n      alert(\"나이를 확인해주세요\");\n    } else if (gender.value == \"0\") {\n      alert(\"성별을 확인해주세요\");\n    } else if (region.value == \"0\") {\n      alert(\"거주지를 확인해주세요\");\n    } else {\n      const userId = await axios.post(\n        `/test/user`,\n        JSON.stringify({\n          user_name: name.value,\n          user_age: age.value,\n          user_gender: gender.value,\n          user_region: region.value,\n        }),\n        {\n          headers: { \"Content-Type\": \"application/json\" },\n        }\n      );\n      // const userId = postData()\n      // debugger\n      // setUserId(temp);\n      history.push({\n        pathname: \"/Psychometry\",\n        state: {\n          pname: name.value,\n          page: age.value,\n          pgender: gender.value,\n          pregion: region.value,\n          pid: userId.data.result.user_id,\n        },\n      });\n    }\n  }\n\n  const useStyles = makeStyles((theme) => ({\n    paper: {\n      marginTop: theme.spacing(8),\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      marginBottom: theme.spacing(8),\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main,\n    },\n    title: {\n      margin: theme.spacing(2),\n    },\n    form: {\n      width: \"100%\", // Fix IE 11 issue.\n      marginTop: theme.spacing(3),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n  }));\n\n  // async function postData(){\n\n  //     console.log(response.data.result);\n  //     // setUserId(response.data.result.user_id);\n  //     debugger\n  //     return (response.data.result.user_id)\n  // }\n\n  return (\n    <Container maxWidth=\"sm\">\n      <div className={useStyles.paper}>\n        <CssBaseline />\n\n        <Container maxWidth=\"sm\" component=\"main\">\n          <br />\n          <br />\n          <br />\n          <br />\n\n          <Typography\n            variant=\"h5\"\n            align=\"center\"\n            color=\"textSecondary\"\n            component=\"p\"\n          >\n            🤖서비스 제공을 위한 기본 인적사항을 작성해주세요.🤖\n          </Typography>\n          <Typography\n            variant=\"p\"\n            align=\"center\"\n            color=\"textSecondary\"\n            component=\"p\"\n          >\n            *작성하신 정보는 서비스 제공 외의 용도로 사용되지 않습니다.\n          </Typography>\n        </Container>\n        <Container>\n          <Form.Group controlId=\"name\">\n            <Form.Label>이름</Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"이름을 입력해주세요\"\n              onChange={(e) => {\n                setName(e.target);\n              }}\n            ></Form.Control>\n          </Form.Group>\n        </Container>\n\n        <Container>\n          <Form.Group controlId=\"age\">\n            <Form.Label>연령대</Form.Label>\n            <Form.Control\n              as=\"select\"\n              custom\n              onChange={(e) => {\n                setAge(e.target);\n              }}\n            >\n              {ageCode.map((option) => {\n                return option;\n              })}\n            </Form.Control>\n          </Form.Group>\n        </Container>\n\n        <Container>\n          <Form.Group controlId=\"gender\">\n            <Form.Label>성별</Form.Label>\n            <Form.Control\n              as=\"select\"\n              custom\n              onChange={(e) => {\n                setGender(e.target);\n              }}\n            >\n              {genderCode.map((option) => {\n                return option;\n              })}\n            </Form.Control>\n          </Form.Group>\n        </Container>\n\n        <Container>\n          <Form.Group controlId=\"region\">\n            <Form.Label>거주지</Form.Label>\n            <Form.Control\n              as=\"select\"\n              custom\n              onChange={(e) => {\n                setRegion(e.target);\n              }}\n            >\n              {regionCode.map((option) => {\n                return option;\n              })}\n            </Form.Control>\n          </Form.Group>\n        </Container>\n\n        <Container>\n          <Button\n            varient=\"primary\"\n            size=\"large\"\n            onClick={pushdataToPsychometry}\n            disabled={\n              !name.value || !age.value || !gender.value || !region.value\n            }\n          >\n            다음\n          </Button>\n        </Container>\n\n        {/* <p>이름 : {name.value}</p>\n                <p>나이 : {age.value}</p>\n                <p>성별 : {gender.value}</p>\n                <p>지역 : {region.value}</p> */}\n\n        <hr></hr>\n\n        <a href=\"https://www.notion.so/86a389ec9b4d4f419ac64e99810fd0de\" xs={2}>\n          서비스 소개\n        </a>\n        <a href=\"/CounselorLogin\">상담사 전용</a>\n      </div>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}